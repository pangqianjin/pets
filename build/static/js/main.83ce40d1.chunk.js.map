{"version":3,"sources":["containers/Main/index.jsx","utils/index.js","App.js","index.js"],"names":["Paragraph","Text","pettypes","0","1","2","3","4","Main","state","newslist","Pubsub","subscribe","_","setState","unsubscribe","this","map","news","pettype","name","engName","characters","nation","easyOfDisease","life","price","desc","feature","characterFeature","careKnowledge","feedPoints","url","coverURL","style","float","href","src","alt","width","height","strong","Component","reqPets","dataObj","axios","method","params","showFeedback","msg","notification","open","message","description","duration","Header","Content","Sider","App","value","data","collapsed","onCollapse","inputOnChange","event","target","onSearch","then","response","props","history","replace","showResult","catch","err","searchByPettype","node","type","key","push","code","PubSub","publish","id","minHeight","padding","Search","placeholder","onChange","enterButton","collapsible","defaultSelectedKeys","defaultOpenKeys","mode","theme","SubMenu","title","icon","QqOutlined","Item","GithubOutlined","onClick","GitlabOutlined","BugOutlined","RedditOutlined","AliwangwangOutlined","path","component","withRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.83ce40d1.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {Typography, Divider, BackTop } from 'antd'\r\nimport Pubsub from 'pubsub-js'\r\n\r\nconst {Paragraph, Text} = Typography\r\nconst pettypes = {0:'猫科', 1:'犬科', 2:'爬行类', 3:'小宠物类', 4:'水族类'}\r\nexport default class Main extends Component {\r\n    state = {\r\n        newslist: []\r\n    }\r\n\r\n    componentDidMount(){\r\n        Pubsub.subscribe('result', (_, newslist)=>{\r\n            this.setState({newslist})\r\n        })\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        Pubsub.unsubscribe('result')\r\n    }\r\n\r\n    render() {\r\n        const {newslist} = this.state\r\n        return (\r\n            <div>\r\n                <BackTop />\r\n                {\r\n                newslist.map(news=>{\r\n                    const {pettype, name, engName,\r\n                        characters, nation, easyOfDisease,\r\n                        life, price, desc, feature, characterFeature,\r\n                        careKnowledge, feedPoints, url, coverURL\r\n                        } = news\r\n                    return <Typography key={url}>\r\n                        <a style={{float: 'right'}} href={url}>\r\n                        <img src={coverURL} alt={name} style={{width:'200px', height:'150px'}} />\r\n                        </a>\r\n                        <Paragraph> \r\n                            <ul>\r\n                                <li><Text strong>宠物类型: </Text> {pettypes[pettype]}</li>\r\n                                <li><Text strong>宠物名字: </Text> {name}</li>\r\n                                <li><Text strong>宠物英文名: </Text> {engName}</li>\r\n                                <li><Text strong>性格特点: </Text> {characters}</li>\r\n                                <li><Text strong>祖籍: </Text> {nation}</li>\r\n                                <li><Text strong>易患病: </Text> {easyOfDisease}</li>\r\n                                <li><Text strong>寿命: </Text> {life}</li>\r\n                                <li><Text strong>价格: </Text> {price?price:'未知'}</li>\r\n                            </ul>\r\n                        </Paragraph>\r\n                        <Paragraph><Text strong>描述: </Text>{desc}</Paragraph>\r\n                        <Paragraph><Text strong>体态特征: </Text>{feature}</Paragraph>\r\n                        <Paragraph><Text strong>特点: </Text>{characterFeature}</Paragraph>\r\n                        <Paragraph><Text strong>照顾须知: </Text>{careKnowledge}</Paragraph>\r\n                        <Paragraph><Text strong>喂养注意: </Text>{feedPoints}</Paragraph>\r\n                        <Divider/> \r\n                    </Typography>\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import axios from \"axios\";\r\nimport {notification} from 'antd'\r\n\r\nexport const reqPets = (dataObj)=>axios({\r\n    method: 'POST',\r\n    url: 'http://api.tianapi.com/txapi/pet/index',\r\n    params: {\r\n        'key': 'a101b3074c31fc043b930a7b39146408',\r\n        ...dataObj\r\n    }\r\n})\r\n\r\nexport const showFeedback = (msg)=>notification.open({\r\n        message: '温馨提示',\r\n        description: msg,\r\n        duration: 1\r\n})\r\n","import React, { Component } from 'react'\nimport Main from './containers/Main';\nimport {Input, Layout, Menu } from 'antd'\nimport PubSub from 'pubsub-js'\nimport {QqOutlined,GithubOutlined,\n  GitlabOutlined,AliwangwangOutlined,\n  BugOutlined,RedditOutlined\n} from '@ant-design/icons'\nimport { reqPets, showFeedback} from './utils';\nimport {Switch, Route, withRouter} from 'react-router-dom'\n\nconst {Header, Content, Sider} = Layout\nclass App extends Component {\n  state = {\n    value: '',\n    data: {},\n    collapsed: false\n  }\n\n  onCollapse = (collapsed)=>{\n    this.setState({collapsed})\n  }\n  \n  inputOnChange = (event)=>{\n    const {value} = event.target\n    this.setState({value})\n  }\n\n  onSearch=(value)=>{\n    const promise = reqPets({name: value})\n    promise.then(response=>{\n      this.setState({data:response.data})\n      this.props.history.replace(`/?name=${value}`)\n      this.showResult()\n    }).catch(err=>{\n      showFeedback(err)\n    })\n  }\n\n  searchByPettype = (node)=>{\n    this.setState({value: ''})\n    \n    const promise = reqPets({type: node.key})\n    promise.then(response=>{\n      this.setState({data:response.data})\n      this.props.history.push(`/pettypes/?type=${node.key}`)\n      this.showResult()\n    }).catch(err=>{\n      showFeedback(err)\n    })\n  }\n\n  showResult = ()=>{\n    const {data} = this.state\n    if(data.code!==200){\n      showFeedback(data.msg)\n    }else{\n      PubSub.publish('result', data.newslist)\n    }   \n  }\n\n  render() {\n    const {collapsed} = this.state\n    return (\n      <div id='app'>\n        <Layout style={{ minHeight: '100vh'}}>\n          <Header style={{padding:20}}>\n            <Input.Search placeholder=\"输入宠物名称\" \n            value={this.state.value}\n            onChange={this.inputOnChange}\n            onSearch={this.onSearch} enterButton style={{width:200}} />\n          </Header>\n        \n          <Layout>\n            <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\n              <Menu\n              defaultSelectedKeys={['sub1']}\n              defaultOpenKeys={['sub1']}\n              mode=\"inline\"\n              theme=\"dark\"\n              >\n                <Menu.SubMenu key=\"sub1\" title='宠物类型' icon={<QqOutlined />}>\n                  <Menu.Item key=\"0\" icon={<GithubOutlined />} onClick={this.searchByPettype}>猫科</Menu.Item>\n                  <Menu.Item key=\"1\" icon={<GitlabOutlined />} onClick={this.searchByPettype}>犬科</Menu.Item>\n                  <Menu.Item key=\"2\" icon={<BugOutlined />} onClick={this.searchByPettype}>爬行类</Menu.Item>\n                  <Menu.Item key=\"3\" icon={<RedditOutlined />} onClick={this.searchByPettype}>小宠物类</Menu.Item>\n                  <Menu.Item key=\"4\" icon={<AliwangwangOutlined />} onClick={this.searchByPettype}>水族类</Menu.Item>\n                </Menu.SubMenu>\n              </Menu>\n            </Sider>\n        \n            <Layout>\n              <Content style={{padding: 20}}>\n                <Switch>\n                  <Route path='/pettypes' component={Main} />\n                  <Route component={Main} />\n                </Switch>\n              </Content>\n            </Layout>   \n          </Layout>\n        </Layout>  \n      </div>\n    )\n  }\n}\n\nexport default withRouter(App)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}